{"remainingRequest":"/Users/monika/Desktop/mvvm_twp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/monika/Desktop/mvvm_twp/src/views/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/monika/Desktop/mvvm_twp/src/views/List.vue","mtime":1616852641573},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0LCBwb3N0fSBmcm9tICJheGlvcyI7CmltcG9ydCBDYXJkIGZyb20gIkAvY29tcG9uZW50cy9DYXJkIjsKCmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHtDYXJkfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2hvd0FkZDogZmFsc2UsCgkJCW5ld0NhdGVnb3J5TmFtZTogJycsCgkJCXNob3dBZGRQb3N0OiAnJywKCQkJbmV3UG9zdE5hbWU6ICcnLAoJCQljdXJyZW50Q2F0ZWdvcnk6IG51bGwsCgkJCWN1cnJlbnRQb3N0OiBudWxsLAoJCQlzaG93Q2FyZE1vZGFsOiBmYWxzZSwKCQkJaXRlbXM6IFtdCgkJfQoJfSwKCgltb3VudGVkKCl7CgkJdGhpcy5nZXRDYXRlZ29yaWVzKCkKCX0sCgoJbWV0aG9kczogewoJCWFzeW5jIGdldENhdGVnb3JpZXMoKXsKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0KHRoaXMuJHN0b3JlLmdldHRlcnMuQVBJICsgJy9jYXRlZ29yaWVzJykKCQkJCXJlc3BvbnNlLmRhdGEgPSByZXNwb25zZS5kYXRhLnJldmVyc2UoKQoJCQkJdGhpcy5pdGVtcyA9IHJlc3BvbnNlLmRhdGEKCQkJCWZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKSB7CgkJCQkJdHJ5IHsKCQkJCQkJaXRlbS5wb3N0cyA9IGF3YWl0IHRoaXMuZ2V0UG9zdHMoaXRlbS5pZCkKCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJCQl9CgkJCQl9CgkJCQl0aGlzLiRmb3JjZVVwZGF0ZSgpCgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfQoJCX0sCgoJCWFzeW5jIGdldFBvc3RzKGlkKSB7CgkJCXRyeSB7CgkJCQljb25zdCByZXNwb25zZSA9IGF3YWl0IGdldCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvcG9zdHM/Y2F0ZWdvcmllcz0nICsgaWQpCgkJCQlyZXR1cm4gcmVzcG9uc2UuZGF0YQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlLnRvU3RyaW5nKCkpCgkJCX0KCQl9LAoKCQlhc3luYyBjcmVhdGVDYXRlZ29yeSgpIHsKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvY2F0ZWdvcnkvY3JlYXRlJywKCQkJCQlgbmFtZT0ke3RoaXMubmV3Q2F0ZWdvcnlOYW1lfWAsCgkJCQkJewoJCQkJCQloZWFkZXJzOiB7CgkJCQkJCQknY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKCQkJCQkJfSwKCQkJCQl9CgkJCQkpCgkJCQlpZiAocmVzcG9uc2UuZGF0YSkgewoJCQkJCXRoaXMuZ2V0Q2F0ZWdvcmllcygpCgkJCQkJdGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAnJwoJCQkJCXRoaXMuc2hvd0FkZCA9IGZhbHNlCgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfQoJCX0sCgkJYXN5bmMgQ3JlYXRlUG9zdCgpIHsKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvcG9zdC9jcmVhdGUnLAoJCQkJCWBuYW1lPSR7dGhpcy5uZXdQb3N0TmFtZX0mY2F0ZWdvcnlfaWQ9JHt0aGlzLmN1cnJlbnRDYXRlZ29yeS5pZH1gLAoJCQkJCXsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCQkJCX0sCgkJCQkJfQoJCQkJKQoJCQkJaWYgKHJlc3BvbnNlLmRhdGEpIHsKCQkJCQl0aGlzLmdldENhdGVnb3JpZXMoKQoJCQkJCXRoaXMubmV3UG9zdE5hbWUgPSAnJwoJCQkJCXRoaXMuc2hvd0FkZFBvc3QgPSBmYWxzZQoJCQkJfQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlLnRvU3RyaW5nKCkpCgkJCX0KCQl9LAoJCWFzeW5jIHJlbW92ZUNhdGVnb3J5KGlkKSB7CgkJCXRoaXMubG9hZGluZyA9IHRydWUKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvY2F0ZWdvcnkvcmVtb3ZlJywKCQkJCQlgY2F0ZWdvcnlfaWQ9JHtpZH1gLAoJCQkJCXsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCQkJCX0sCgkJCQkJfQoJCQkJKQoJCQkJaWYgKHJlc3BvbnNlLmRhdGEpIHsKCQkJCQl0aGlzLmdldENhdGVnb3JpZXMoKQoJCQkJfQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlLnRvU3RyaW5nKCkpCgkJCX0gZmluYWxseSB7CgkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQoJCQl9CgkJfSwKCQlhc3luYyB1cGRhdGVDYXRlZ29yeShkYXRhKSB7CgkJCWxldCBkYXRhU3RyaW5nID0gJycKCQkJZm9yKGxldCBpIGluIGRhdGEpIHsKCQkJCWRhdGFTdHJpbmcgKz0gYCR7aX09JHtkYXRhW2ldfSZgCgkJCX0KCQkJdHJ5IHsKCQkJCWF3YWl0IHBvc3QodGhpcy4kc3RvcmUuZ2V0dGVycy5BUEkgKyAnL2NhdGVnb3J5L2VkaXQnLAoJCQkJCWRhdGFTdHJpbmcsCgkJCQkJewoJCQkJCQloZWFkZXJzOiB7CgkJCQkJCQknY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKCQkJCQkJfSwKCQkJCQl9CgkJCQkpCgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfQoJCX0sCgkJY2xvc2VNb2RhbCgpIHsKCQkJdGhpcy5zaG93Q2FyZE1vZGFsPWZhbHNlOwoJCQl0aGlzLmN1cnJlbnRQb3N0ID0gbnVsbAoJCX0sCgkJYWZ0ZXJQb3N0UmVtb3ZlZCgpIHsKCQkJdGhpcy5jbG9zZU1vZGFsKCkKCQkJdGhpcy5nZXRDYXRlZ29yaWVzKCkKCQl9Cgl9Cn0K"},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div class=\"row\">\n\t<div class=\"lists flex-sm-wrap\">\n\t\t<v-card v-for=\"(item, i) in items\" flat :key=\"i\">\n\t\t\t<v-card-text class=\"d-flex justify-space-between align-center\">\n\t\t\t\t<h3 v-text=\"item.name\" contenteditable @blur=\"e => updateCategory({'name': e.currentTarget.innerText, 'cat_ID': item.id})\" />\n\t\t\t\t<v-spacer />\n\t\t\t\t<v-btn icon @click=\"removeCategory(item.id)\" >\n\t\t\t\t\t<v-icon>mdi-delete</v-icon>\n\t\t\t\t</v-btn>\n\t\t\t</v-card-text>\n\t\t\t<v-card-text>\n\t\t\t\t<v-btn @click=\"currentPost = post; showCardModal = true\" block class=\"my-1 justify-start\" depressed v-for=\"(post, j) in item.posts\" :key=\"j\">\n\t\t\t\t\t{{post.title.rendered}}\n\t\t\t\t</v-btn>\n\t\t\t</v-card-text>\n\t\t\t<v-card-text>\n\t\t\t\t<v-btn link @click=\"currentCategory = item; showAddPost = !showAddPost\" color=\"white grey--text\" depressed>\n\t\t\t\t\t<v-icon left>mdi-plus</v-icon>\n\t\t\t\t\tAdd new card\n\t\t\t\t</v-btn>\n\t\t\t</v-card-text>\n\t\t</v-card>\n\t\t<v-card flat class=\"grey lighten-1 text-center\">\n\t\t\t<v-card-text>\n\t\t\t\t<v-btn @click=\"showAdd = !showAdd\" class=\"grey lighten-1 font-weight-black text-capitalize\" dark depressed>Add new list</v-btn>\n\t\t\t\t<v-text-field @keyup=\"e => e.key === 'Enter' ? this.createCategory() : ''\" class=\"my-2\" v-show=\"showAdd\" filled dense solo flat v-model=\"newCategoryName\" placeholder=\"List Name: \" />\n\t\t\t</v-card-text>\n\t\t</v-card>\n\t\t<v-bottom-sheet v-model=\"showAddPost\">\n\t\t\t<v-card>\n\t\t\t\t<v-card-title>Add new card to {{currentCategory ? currentCategory.name : ''}}</v-card-title>\n\t\t\t\t<v-card-text>\n\t\t\t\t\t<v-text-field @keyup=\"e => e.key === 'Enter' ? this.CreatePost() : ''\" class=\"my-2\" filled dense solo flat v-model=\"newPostName\" placeholder=\"Card Name: \" />\n\t\t\t\t</v-card-text>\n\t\t\t</v-card>\n\t\t</v-bottom-sheet>\n\t\t<v-dialog v-model=\"showCardModal\" persistent v-if=\"currentPost\">\n\t\t\t<Card :item=\"currentPost\" @closeModal=\"closeModal\" @postRemoved=\"afterPostRemoved\" />\n\t\t</v-dialog>\n\t</div>\n</div>\n</template>\n\n<script>\nimport {get, post} from \"axios\";\nimport Card from \"@/components/Card\";\n\nexport default {\n\tcomponents: {Card},\n\tdata() {\n\t\treturn {\n\t\t\tshowAdd: false,\n\t\t\tnewCategoryName: '',\n\t\t\tshowAddPost: '',\n\t\t\tnewPostName: '',\n\t\t\tcurrentCategory: null,\n\t\t\tcurrentPost: null,\n\t\t\tshowCardModal: false,\n\t\t\titems: []\n\t\t}\n\t},\n\n\tmounted(){\n\t\tthis.getCategories()\n\t},\n\n\tmethods: {\n\t\tasync getCategories(){\n\t\t\ttry {\n\t\t\t\tconst response = await get(this.$store.getters.API + '/categories')\n\t\t\t\tresponse.data = response.data.reverse()\n\t\t\t\tthis.items = response.data\n\t\t\t\tfor (const item of this.items) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\titem.posts = await this.getPosts(item.id)\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log(e.toString())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$forceUpdate()\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t}\n\t\t},\n\n\t\tasync getPosts(id) {\n\t\t\ttry {\n\t\t\t\tconst response = await get(this.$store.getters.API + '/posts?categories=' + id)\n\t\t\t\treturn response.data\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t}\n\t\t},\n\n\t\tasync createCategory() {\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/category/create',\n\t\t\t\t\t`name=${this.newCategoryName}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.getCategories()\n\t\t\t\t\tthis.newCategoryName = ''\n\t\t\t\t\tthis.showAdd = false\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t}\n\t\t},\n\t\tasync CreatePost() {\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/post/create',\n\t\t\t\t\t`name=${this.newPostName}&category_id=${this.currentCategory.id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.getCategories()\n\t\t\t\t\tthis.newPostName = ''\n\t\t\t\t\tthis.showAddPost = false\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t}\n\t\t},\n\t\tasync removeCategory(id) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/category/remove',\n\t\t\t\t\t`category_id=${id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.getCategories()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync updateCategory(data) {\n\t\t\tlet dataString = ''\n\t\t\tfor(let i in data) {\n\t\t\t\tdataString += `${i}=${data[i]}&`\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait post(this.$store.getters.API + '/category/edit',\n\t\t\t\t\tdataString,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t}\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.showCardModal=false;\n\t\t\tthis.currentPost = null\n\t\t},\n\t\tafterPostRemoved() {\n\t\t\tthis.closeModal()\n\t\t\tthis.getCategories()\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.lists {\n\tdisplay: flex;\n\talign-content: center;\n\twidth: 100%;\n\t& > .v-card {\n\t\twidth: 280px;\n\t\tmin-width: 280px;\n\t\tmargin: 0 6px;\n\t\theight: fit-content;\n\t}\n}\n</style>\n"]}]}