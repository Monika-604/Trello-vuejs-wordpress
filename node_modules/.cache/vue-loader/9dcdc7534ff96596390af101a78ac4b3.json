{"remainingRequest":"/Users/monika/Desktop/mvvm_twp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/monika/Desktop/mvvm_twp/src/components/Card.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/monika/Desktop/mvvm_twp/src/components/Card.vue","mtime":1616872187569},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/monika/Desktop/mvvm_twp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgRGF0ZXRpbWUgfSBmcm9tICd2dWUtZGF0ZXRpbWUnOwppbXBvcnQge2dldCwgcG9zdH0gZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6ewogICAgZGF0ZXRpbWU6IERhdGV0aW1lCiAgfSwKCXByb3BzOiB7CgkJaXRlbTogewoJCQl0eXBlOiBPYmplY3QsCgkJCWRlZmF1bHQ6ICgpID0+IG51bGwKCQl9Cgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQljb21tZW50czogW10sCgkJCWNvbW1lbnQ6ICcnLAoJCQlsb2FkaW5nOiBmYWxzZSwKCQkJYWRkQ29tbWVudExvYWRpbmc6IGZhbHNlLAoJCQl1cGRhdGVMb2FkaW5nOiBmYWxzZSwKCQkJZGVzY3JpcHRpb246ICcnLAoJCX0KCX0sCgltb3VudGVkKCkgewoJCWlmICh0aGlzLml0ZW0pIHsKCQkJdGhpcy5kZXNjcmlwdGlvbiA9IHRoaXMuaXRlbS5leGNlcnB0LnJlbmRlcmVkCgkJCXRoaXMuZ2V0Q29tbWVudHModGhpcy5pdGVtLmlkKQoJCX0KCX0sCgltZXRob2RzOiB7CgkJYXN5bmMgZ2V0Q29tbWVudHMoaWQpIHsKCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJCQl0cnkgewoJCQkJY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXQodGhpcy4kc3RvcmUuZ2V0dGVycy5BUEkgKyAnL2NvbW1lbnRzP3Bvc3Q9JyArIGlkKQoJCQkJdGhpcy5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGEKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZS50b1N0cmluZygpKQoJCQl9IGZpbmFsbHkgewoJCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQkJfQoJCX0sCgkJYXN5bmMgY3JlYXRlQ29tbWVudCgpIHsKCQkJdGhpcy5hZGRDb21tZW50TG9hZGluZyA9IHRydWUKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvY29tbWVudC9jcmVhdGUnLAoJCQkJCWBjb21tZW50PSR7dGhpcy5jb21tZW50fSZwb3N0X2lkPSR7dGhpcy5pdGVtLmlkfWAsCgkJCQkJewoJCQkJCQloZWFkZXJzOiB7CgkJCQkJCQknY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKCQkJCQkJfSwKCQkJCQl9CgkJCQkpCgkJCQlpZiAocmVzcG9uc2UuZGF0YSkgewoJCQkJCXRoaXMuY29tbWVudCA9ICcnCgkJCQkJdGhpcy5nZXRDb21tZW50cyh0aGlzLml0ZW0uaWQpCgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfSBmaW5hbGx5IHsKCQkJCXRoaXMuYWRkQ29tbWVudExvYWRpbmcgPSBmYWxzZQoJCQl9CgkJfSwKCQlhc3luYyByZW1vdmVDb21tZW50KGlkKSB7CgkJCXRoaXMubG9hZGluZyA9IHRydWUKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvY29tbWVudC9yZW1vdmUnLAoJCQkJCWBjb21tZW50X2lkPSR7aWR9YCwKCQkJCQl7CgkJCQkJCWhlYWRlcnM6IHsKCQkJCQkJCSdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwoJCQkJCQl9LAoJCQkJCX0KCQkJCSkKCQkJCWlmIChyZXNwb25zZS5kYXRhKSB7CgkJCQkJdGhpcy5nZXRDb21tZW50cyh0aGlzLml0ZW0uaWQpCgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfSBmaW5hbGx5IHsKCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJCX0KCQl9LAoJCWFzeW5jIHJlbW92ZVBvc3QoaWQpIHsKCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJCQl0cnkgewoJCQkJY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwb3N0KHRoaXMuJHN0b3JlLmdldHRlcnMuQVBJICsgJy9wb3N0L3JlbW92ZScsCgkJCQkJYHBvc3RfaWQ9JHtpZH1gLAoJCQkJCXsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCQkJCX0sCgkJCQkJfQoJCQkJKQoJCQkJaWYgKHJlc3BvbnNlLmRhdGEpIHsKCQkJCQl0aGlzLiRlbWl0KCdwb3N0UmVtb3ZlZCcpCgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSkKCQkJfSBmaW5hbGx5IHsKCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJCX0KCQl9LAoJCWFzeW5jIHVwZGF0ZVBvc3QoZGF0YSkgewoJCQl0aGlzLnVwZGF0ZUxvYWRpbmcgPSB0cnVlCgkJCWxldCBkYXRhU3RyaW5nID0gJycKCQkJZm9yKGxldCBpIGluIGRhdGEpIHsKCQkJCWRhdGFTdHJpbmcgKz0gYCR7aX09JHtkYXRhW2ldfSZgCgkJCX0KCQkJdHJ5IHsKCQkJCWF3YWl0IHBvc3QodGhpcy4kc3RvcmUuZ2V0dGVycy5BUEkgKyAnL3Bvc3QvZWRpdCcsCgkJCQkJZGF0YVN0cmluZywKCQkJCQl7CgkJCQkJCWhlYWRlcnM6IHsKCQkJCQkJCSdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwoJCQkJCQl9LAoJCQkJCX0KCQkJCSkKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZS50b1N0cmluZygpKQoJCQl9IGZpbmFsbHkgewoJCQkJdGhpcy51cGRhdGVMb2FkaW5nID0gZmFsc2UKCQkJfQoJCX0sCgkJYXN5bmMgdXBkYXRlQ29tbWVudChkYXRhKSB7CgkJCXRoaXMudXBkYXRlTG9hZGluZyA9IHRydWUKCQkJbGV0IGRhdGFTdHJpbmcgPSAnJwoJCQlmb3IobGV0IGkgaW4gZGF0YSkgewoJCQkJZGF0YVN0cmluZyArPSBgJHtpfT0ke2RhdGFbaV19JmAKCQkJfQoJCQl0cnkgewoJCQkJYXdhaXQgcG9zdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLkFQSSArICcvY29tbWVudC9lZGl0JywKCQkJCQlkYXRhU3RyaW5nLAoJCQkJCXsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCQkJCX0sCgkJCQkJfQoJCQkJKQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlLnRvU3RyaW5nKCkpCgkJCX0gZmluYWxseSB7CgkJCQl0aGlzLnVwZGF0ZUxvYWRpbmcgPSBmYWxzZQoJCQl9CgkJfQoKCX0KfQo="},{"version":3,"sources":["Card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Card.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<v-card :loading=\"loading\" color=\"grey lighten-3\" v-if=\"item\">\n\t\t<v-card-title>\n\t\t\t<h3 contenteditable @blur=\"e => updatePost({'post_title': e.currentTarget.innerText, 'ID': item.id})\" class=\"font-weight-bold\" v-text=\"item.title.rendered\" />\n\t\t\t<v-spacer></v-spacer>\n\t\t\t<v-btn icon @click=\"removePost(item.id)\" :loading=\"loading\">\n\t\t\t\t<v-icon>mdi-delete</v-icon>\n\t\t\t</v-btn>\n\t\t\t<v-btn icon @click=\"$emit('closeModal')\">\n\t\t\t\t<v-icon>mdi-close</v-icon>\n\t\t\t</v-btn>\n\t\t</v-card-title>\n\t\t<v-card-text>\n\t\t\t<b>Description:</b>\n\t\t\t<v-textarea v-model=\"description\" class=\"mt-3\" @blur=\"updatePost({'post_excerpt': description, 'ID': item.id})\" :loading=\"updateLoading\" :disabled=\"updateLoading\" flat solo filled placeholder=\"Enter Description of card\"></v-textarea>\n\t\t</v-card-text>\n\t\t<v-card-text>\n\t\t\t<b>Activities</b>\n\t\t\t<v-text-field v-model=\"comment\" @keyup=\"e => e.key === 'Enter' ? this.createComment() : ''\" :loading=\"addCommentLoading\" class=\"mt-3\" flat solo filled dense placeholder=\"Enter Comment\" />\n\t\t</v-card-text>\n\t\t<v-card-text>\n\t\t\t<v-list color=\"transparent\">\n\t\t\t\t<v-list-item class=\"white my-2\" v-for=\"(item, i) in comments\" :key=\"i\">\n\t\t\t\t\t<v-list-item-avatar>\n\t\t\t\t\t\t<v-icon large>mdi-account</v-icon>\n\t\t\t\t\t</v-list-item-avatar>\n\t\t\t\t\t<v-list-item-content>\n\t\t\t\t\t\t<v-list-item-title v-text=\"item.author_name\" />\n            <v-list-item-date >\n              <datetime v-text=\"item.date\" format=\"yyyy-MM-dd HH:mm:ss\" />\n            </v-list-item-date>\n\t\t\t\t\t\t<v-list-item-subtitle contenteditable @blur=\"e => updateComment({'comment_content': e.currentTarget.innerText, 'comment_ID': item.id})\" class=\"mt-1\" v-html=\"item.content.rendered\" />\n\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t<v-list-item-action>\n\t\t\t\t\t\t<v-btn icon @click=\"removeComment(item.id)\">\n\t\t\t\t\t\t\t<v-icon>mdi-delete</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</v-list-item-action>\n\t\t\t\t</v-list-item>\n\t\t\t</v-list>\n\t\t</v-card-text>\n\t</v-card>\n</template>\n\n<script lang='js'>\nimport { Datetime } from 'vue-datetime';\nimport {get, post} from \"axios\";\n\nexport default {\n  components:{\n    datetime: Datetime\n  },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcomments: [],\n\t\t\tcomment: '',\n\t\t\tloading: false,\n\t\t\taddCommentLoading: false,\n\t\t\tupdateLoading: false,\n\t\t\tdescription: '',\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.item) {\n\t\t\tthis.description = this.item.excerpt.rendered\n\t\t\tthis.getComments(this.item.id)\n\t\t}\n\t},\n\tmethods: {\n\t\tasync getComments(id) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst response = await get(this.$store.getters.API + '/comments?post=' + id)\n\t\t\t\tthis.comments = response.data\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync createComment() {\n\t\t\tthis.addCommentLoading = true\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/comment/create',\n\t\t\t\t\t`comment=${this.comment}&post_id=${this.item.id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.comment = ''\n\t\t\t\t\tthis.getComments(this.item.id)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.addCommentLoading = false\n\t\t\t}\n\t\t},\n\t\tasync removeComment(id) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/comment/remove',\n\t\t\t\t\t`comment_id=${id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.getComments(this.item.id)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync removePost(id) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst response = await post(this.$store.getters.API + '/post/remove',\n\t\t\t\t\t`post_id=${id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.$emit('postRemoved')\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync updatePost(data) {\n\t\t\tthis.updateLoading = true\n\t\t\tlet dataString = ''\n\t\t\tfor(let i in data) {\n\t\t\t\tdataString += `${i}=${data[i]}&`\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait post(this.$store.getters.API + '/post/edit',\n\t\t\t\t\tdataString,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.updateLoading = false\n\t\t\t}\n\t\t},\n\t\tasync updateComment(data) {\n\t\t\tthis.updateLoading = true\n\t\t\tlet dataString = ''\n\t\t\tfor(let i in data) {\n\t\t\t\tdataString += `${i}=${data[i]}&`\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait post(this.$store.getters.API + '/comment/edit',\n\t\t\t\t\tdataString,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString())\n\t\t\t} finally {\n\t\t\t\tthis.updateLoading = false\n\t\t\t}\n\t\t}\n\n\t}\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}